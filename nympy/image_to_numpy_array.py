import cv2
import numpy
# pip install opencv-python

im_g = cv2.imread("smallgray.png", 0)
print(im_g)
# 2 dim array; 3x5
# [[187 158 104 121 143]
# [198 125 255 255 147]
# [209 134 255  97 182]]
print("----------------------------------------------------------------------------------")

# create new image based on im_g numpy array
cv2.imwrite("newsmallgray.png", im_g)

# get first two rows of im_g
print(im_g[0:2])
# [[187 158 104 121 143]
# [198 125 255 255 147]]
print("----------------------------------------------------------------------------------")

# from first two rows of im_g get values from 2 to 3
print(im_g[0:2, 2:4])
# [[104 121]
# [255 255]]
print("----------------------------------------------------------------------------------")

# get last value from row 3
print(im_g[2,4]) # 182
print("----------------------------------------------------------------------------------")

# iterate through im_g rows
for i in im_g:
    print(i)
# [187 158 104 121 143]
# [198 125 255 255 147]
# [209 134 255  97 182]
print("----------------------------------------------------------------------------------")

# iterate through im_g columns
for i in im_g.T:
    print(i)
# [187 198 209]
# [158 125 134]
# [104 255 255]
# [121 255  97]
# [143 147 182]
print("----------------------------------------------------------------------------------")

# iterate value by value
for i in im_g.flat:
    print(i)
print("----------------------------------------------------------------------------------")

# concatenate 3 arrays horizontally
# pass a tuple into hstack method
ims = numpy.hstack((im_g,im_g, im_g))
print(ims)
# [[187 158 104 121 143 187 158 104 121 143 187 158 104 121 143]
# [198 125 255 255 147 198 125 255 255 147 198 125 255 255 147]
# [209 134 255  97 182 209 134 255  97 182 209 134 255  97 182]]
print("----------------------------------------------------------------------------------")

# concatenate 3 arrays vertically
# pass a tuple into hstack method
ims = numpy.vstack((im_g,im_g, im_g))
print(ims)
# [[187 158 104 121 143]
# [198 125 255 255 147]
# [209 134 255  97 182]
# [187 158 104 121 143]
# [198 125 255 255 147]
# [209 134 255  97 182]
# [187 158 104 121 143]
# [198 125 255 255 147]
# [209 134 255  97 182]]
print("----------------------------------------------------------------------------------")

# split into 5 arrays horizontally
lst = numpy.hsplit(ims, 5)
print(lst)
print("----------------------------------------------------------------------------------")

# split into 3 arrays verticaly
lst2 = numpy.vsplit(ims, 3)
print(lst2)
print("----------------------------------------------------------------------------------")